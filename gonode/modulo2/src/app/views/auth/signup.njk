{% extends "_layouts/auth.njk" %}

{% block body %}
	<form action="/signup" method="post" enctype="multipart/form-data">

		{% include "_partials/flash.njk" %}

		<label for="avatar">
			<img class="avatar-image" src="/images/avatar.svg" alt="" height="24">
		</label>

		<input type="file" id="avatar" name="avatar">

		<input type="text" name="name" placeholder="Nome completo">
		<input type="email" name="email" placeholder="Seu e-mail">
		<input type="password" name="password" placeholder="Senha secreta">

		<label for="provider">
			<input type="checkbox" id="provider" name="provider" value="1">
			Sou cabeleireiro
		</label>

		<button type="submit">Criar conta</button>

		<a href="/">JÃ¡ possuo conta</a>
	</form>

	<script>
		const avatarInput = document.querySelector('#avatar');
		const avatarImage = document.querySelector('.avatar-image');

		avatarInput.addEventListener('change', (e) => {
			avatarImage.classList.add('preview');
			avatarImage.src = URL.createObjectURL(e.target.files[0]);
		});
	</script>
{% endblock %}
